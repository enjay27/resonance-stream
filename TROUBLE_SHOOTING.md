# 🛠️ Resonance Stream 문제 해결 가이드 (Troubleshooting)

이 프로그램은 게임 패킷을 감지하기 위해 커널 레벨 드라이버(**WinDivert**)를 사용하며, 실시간 번역을 위해 **AI 엔진(Python Sidecar)**을 구동합니다. 대부분의 구동 실패는 권한 설정, 필수 런타임 미설치, 혹은 보안 프로그램의 차단으로 인해 발생합니다.

---

### ✅ 정상 작동 확인 흐름 (Success Flow)

앱이 정상적으로 실행 중인지 확인하려면 **디버그 모드**를 켜고 **시스템(⚙️)** 탭에서 다음 메시지들이 순서대로 출력되는지 확인하세요.

1. **[System] Admin Privileges: true**: 관리자 권한으로 실행됨.
2. **[System] Driver Integrity: true**: 필수 드라이버 파일이 감지됨.
3. **[Python] AI Started: CUDA**: GPU 가속이 활성화됨.
4. **[Debug] New Stream Detected**: 게임 서버와의 통신을 감지함.
5. **[Debug] First Packet Captured!**: 실제 게임 데이터 분석이 시작됨.

---

### 1. 시스템 로그 확인 방법

상세한 진단 정보와 디버그 로그는 **시스템 탭**에서 확인할 수 있습니다.

1. **설정 열기**: 앱 상단 우측의 **톱니바퀴 아이콘(⚙️)**을 클릭합니다.
2. **디버그 모드 활성화**: 설정 메뉴 하단으로 스크롤하여 **'Debug Mode'** 체크박스를 활성화합니다.
3. **시스템 탭 진입**: 상단 탭 바에 새로 생긴 **'시스템(⚙️)'** 탭을 클릭하면 실시간 로그를 볼 수 있습니다.

---

### 2. 로그 유형별 문제 해결 가이드

### 🖥️ [System] 관련 로그 (초기 구동 및 권한)

앱이 시작될 때 윈도우 환경과 필수 파일 상태를 점검합니다.

- **`Admin Privileges: false`**: 프로그램이 일반 권한으로 실행되었습니다. 패킷 감지가 작동하지 않습니다.
    - **해결 방법**: 앱을 완전히 종료한 후 `translator.exe`를 **마우스 오른쪽 버튼 클릭 > [관리자 권한으로 실행]** 하세요.
- **`Driver Integrity: false`**: 실행 폴더 내에 `WinDivert64.sys` 파일이 없습니다.
    - **해결 방법**: 압축을 해제할 때 포함된 모든 파일(5개)이 **동일한 폴더**에 있는지 확인하세요. 파일이 누락되었다면 다시 압축을 푸는 것을 권장합니다.
- **`Resource Path: ...`**: 앱이 리소스를 읽어오는 경로를 표시합니다.
    - **주의 사항**: 경로에 한글이나 특수문자가 포함된 경우 오류가 발생할 수 있으니, 가급적 **영문으로 된 경로**에서 실행하세요.

------

### 📡 [Sniffer] 관련 로그 (네트워크 감지)

게임 패킷을 가로채는 드라이버의 상태를 나타냅니다.

- **`FATAL: ACCESS_DENIED (Code 5)`**: 관리자 권한이 없어 드라이버를 로드하지 못했습니다.
    - **해결 방법**: 프로그램을 반드시 **관리자 권한**으로 다시 실행하세요.
- **`FATAL: INVALID_IMAGE_HASH (Code 577)`**: 윈도우 보안 설정이나 Secure Boot가 드라이버를 차단했습니다.
    - **해결 방법**: 윈도우 업데이트를 최신으로 진행하거나, 사용 중인 보안 프로그램(백신)에서 예외 설정을 확인하세요.
- **`[Warning] No game traffic detected for 15s`**: 게임 실행 중임에도 패킷 데이터가 들어오지 않는 상태입니다.
    - **해결 방법**: 윈도우 방화벽이나 백신에서 이 앱의 **네트워크 접근을 허용**했는지 확인하세요.

------

### 🤖 [Sidecar / Python] 관련 로그 (AI 번역 엔진)

AI 모델 로드 및 번역 프로세스 상태를 나타냅니다.

- **`FATAL: Missing Visual C++ Redistributable`**: PC에 필수 런타임이 없습니다.
    - **해결 방법**: **[Microsoft 공식 x64 런타임 다운로드](https://aka.ms/vs/17/release/vc_redist.x64.exe)** 링크를 클릭해 설치한 후 **PC를 재시작**하고 앱을 관리자 권한으로 다시 실행하세요.
- **`GPU Memory Out`**: 그래픽카드의 VRAM이 부족합니다.
    - **해결 방법**: 설정(⚙️)에서 **Tier**를 `Middle` 또는 `Low` 등급으로 낮추세요. 특히 **고성능 GPU** 사용자라면 `Extreme` 티어에서도 원활하나, 다른 고사양 프로그램(게임 등)과 함께 사용 시 메모리가 일시적으로 부족할 수 있습니다.
- **`AI Started: CUDA`**: 그래픽카드를 이용한 AI 가속이 정상적으로 시작되었습니다.

------

### 🔍 [Debug] 관련 로그 (상세 분석)

디버그 모드에서만 출력되는 세부 정보입니다.

- **`Active Interface: ...`**: 현재 앱이 감시 중인 네트워크 장치 리스트입니다.
    - **확인 내용**: 게임 트래픽이 흐르는 올바른 네트워크 어댑터가 감지되고 있는지 확인하는 용도입니다.
- **`New Stream Detected: [IP:Port]`**: 게임 서버와의 연결을 성공적으로 포착했습니다.
    - **확인 내용**: 이 로그가 보인다면 앱이 게임 프로세스를 정상적으로 인식하고 데이터를 읽을 준비가 된 것입니다.
- **`First Packet Captured!`**: 실제로 게임 데이터가 앱 내부 버퍼로 들어오기 시작했음을 증명합니다.
    - **확인 내용**: 이 시점부터 실시간 번역 결과가 화면에 나타나기 시작합니다.
- **`[Perf] Inference Time: ...ms`**: AI가 문장을 번역하는 데 걸린 시간입니다.
    - **확인 내용**: 수치가 너무 높게 유지된다면 쾌적한 사용을 위해 Tier 등급을 조정하세요.

---

### 💡 기술 지원 요청 시 팁

문제가 해결되지 않는다면 시스템 탭의 내용을 전체 복사하여 전달해 주세요. 특히 **`[Sniffer FATAL]`**이나 **`[Python CRASH]`** 문구가 포함된 줄이 가장 중요한 단서가 됩니다.

---

**사용자가 가이드를 따라가며 `First Packet Captured!`까지 확인했다면, 이제 번역 결과를 즐기기만 하면 됩니다!**